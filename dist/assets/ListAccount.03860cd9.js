import{R as b,a as w,T as A,c as e,w as $,B as o,ab as R,j as n,x as P,y as z,z as y,A as m,Q as E,r as f,u as x,b as M,J as I,d as C,C as N,h as O,E as T,o as u,H as v,i as k,q as B,al as S,I as V}from"./index.f6cbbd28.js";import{a as j,L as q}from"./ListAccountProvider.0ef47a20.js";import{u as W}from"./index.a490bfec.js";import"./CoreInputFile.aaa53b6a.js";const U=d=>{const{open:a,handleCloseDetailAccount:s,accountData:l,loadingAccount:i}=d,{t}=w(A.account);console.log("============= accountData",l);const r=()=>i?e(o,{className:"text-center",children:e(R,{})}):n(P,{className:"w-full",sx:{"& td":{borderWidth:1,borderColor:"#CCC",py:1,"&.attr-key":{borderRight:"none"},"&.attr-value":{borderLeft:"none",fontWeight:600}}},children:[n("colgroup",{children:[e("col",{className:"w-1/4"}),e("col",{className:"w-1/4"}),e("col",{className:"w-1/4"}),e("col",{className:"w-1/4"})]}),n(z,{className:"border-1",children:[n(y,{children:[e(m,{className:"attr-key",children:t("label.name")}),e(m,{className:"attr-value",children:l==null?void 0:l.name}),e(m,{className:"attr-key",children:t("label.mail")}),e(m,{className:"attr-value",children:l==null?void 0:l.mail})]}),n(y,{children:[e(m,{className:"attr-key",children:t("label.role")}),e(m,{className:"attr-value",children:l==null?void 0:l.role}),e(m,{className:"attr-key",children:t("label.roll")}),e(m,{className:"attr-value",children:l==null?void 0:l.roll})]})]})]});return e($,{open:a,handleClose:s,dialogTitle:l==null?void 0:l.name,maxWidth:"md",dialogContent:a&&r()})},_=b.memo(U),F=d=>{const[a,{setTrue:s,setFalse:l}]=W(!1),i=E(j.find,{manual:!0,onError:D=>{errorMsg("Get detail failed!!!")}}),{data:t,run:r,loading:g}=i,c=D=>{r(D),s()},h=()=>{l()},p=f.exports.useCallback(()=>e(_,{open:a,handleCloseDetailAccount:h,accountData:t==null?void 0:t.account,loadingAccount:g}),[a,t]);return{handleOpenDetailAccount:c,renderDetailAccountDialog:p}},G=d=>{const{accountTableHandler:a}=x(),{t:s}=w(A.account),l=async()=>{try{const r=t();console.log("============= params",r),await a.handleFetchData(r)}catch(r){console.log("============= error",r)}},{control:i,getValues:t}=M({mode:"onTouched",defaultValues:{name:"",mail:"",role:"",checkbox1:!1,checkbox2:!1}});return n(I,{children:[e(o,{className:"py-8",children:e(C,{variant:"h4",children:s("title.filter")})}),n(o,{className:"my-10 bg-grey-200 rounded-4",children:[n(o,{className:"flex p-12 w-full",children:[n(o,{className:"flex w-full sm:w-[45%] items-center",children:[e(o,{className:"w-full sm:w-3/12 p-8",children:s("title.id")}),e(N,{control:i,name:"id",size:"small",className:"w-full sm:w-9/12 bg-white rounded-4"})]}),n(o,{className:"flex sm:w-[45%] mx-8 items-center",children:[e(o,{className:"sm:w-3/12 p-8",children:s("title.name")}),e(N,{control:i,name:"name",size:"small",className:"w-full sm:w-9/12 bg-white rounded-4"})]})]}),n(o,{className:"flex p-8 w-full",children:[n(o,{className:"flex w-full sm:w-[45%] items-center",children:[e(o,{className:"w-full sm:w-3/12 p-8 ",children:s("title.phone")}),e(N,{control:i,name:"role",size:"small",className:"w-full sm:w-9/12 bg-white rounded-4"})]}),n(o,{className:"flex w-full mx-8 sm:w-[45%] items-center",children:[e(o,{className:"w-full sm:w-3/12 p-8",children:s("title.email")}),e(N,{control:i,name:"mail",size:"small",className:"w-full sm:w-9/12 bg-white rounded-4"})]}),e(o,{className:"flex w-full sm:w-[8%] items-center",children:e(O,{variant:"outlined",color:"primary",className:"ml-auto bg-white text-blue h-32 mt-[2px]",onClick:l,children:s("btn.search")})})]})]})]})},L=b.memo(G),H=d=>{const{t:a,accountTableHandler:s,handleDeleteAccount:l}=x(),{handleOpenDetailAccount:i,renderDetailAccountDialog:t}=F(),r=T(),g=f.exports.useMemo(()=>[u.accessor("id",{cell:c=>c.getValue(),header:a("label.id"),className:"w-[15%]"}),u.accessor("name",{className:"w-[20%] whitespace-normal",header:a("label.name"),cell:({row:c})=>{var p;const h=c.original;return e(C,{className:"cursor-pointer text-blue underline",onClick:()=>r(v.account.list+`/${h.id}`,{state:{data:h}}),children:(p=c==null?void 0:c.original)==null?void 0:p.name})}}),u.accessor("role",{header:a("label.phone")}),u.accessor("mail",{header:a("label.email")})]);return n(k,{children:[e(L,{}),e(B,{isShowPagination:!0,columns:g,...s,data:s==null?void 0:s.accounts}),t()]})},J=b.memo(H),Q=d=>{const{t:a,accountTableHandler:s,handleDeleteAccount:l}=x(),{handleOpenDetailAccount:i,renderDetailAccountDialog:t}=F(),r=T(),g=f.exports.useMemo(()=>[u.accessor("id",{cell:c=>c.getValue(),header:a("label.id"),className:"w-[15%]"}),u.accessor("name",{className:"w-[20%] whitespace-normal",header:a("label.name"),cell:({row:c})=>{var p;const h=c.original;return e(C,{className:"cursor-pointer text-blue underline",onClick:()=>r(v.account.list+`/${h.id}`,{state:{data:h}}),children:(p=c==null?void 0:c.original)==null?void 0:p.name})}}),u.accessor("role",{header:a("label.phone")}),u.accessor("mail",{header:a("label.email")})]);return n(k,{children:[e(L,{}),e(B,{isShowPagination:!0,columns:g,...s,data:s==null?void 0:s.accounts}),t()]})},K=b.memo(Q),X=d=>e(S,{options:[{label:"\u65BD\u8A2D\u63D0\u4F9B\u8005",component:e(J,{})},{label:"\u5229\u7528\u8005",component:e(K,{})},{label:"\u904B\u55B6\u8005",component:e("div",{})}]}),Y=b.memo(X),Z=d=>{const{t:a}=w(A.account);return T(),f.exports.useEffect(()=>{document.title="\u30A2\u30AB\u30A6\u30F3\u30C8"},[]),e(q,{t:a,children:e(V,{pageTitle:a("title.account"),content:e(Y,{})})})},te=b.memo(Z);export{te as default};
