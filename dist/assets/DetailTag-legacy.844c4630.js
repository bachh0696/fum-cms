System.register(["./index-legacy.7a415fa2.js","./ListTagProvider-legacy.09a10eee.js"],(function(e,l){"use strict";var a,s,t,r,m,i,c,o,n,d,u,b,h,g,y,p,w,f,N,x,v,_,T,q,z,E,S,j,k,D;return{setters:[e=>{a=e.a5,s=e.Q,t=e.v,r=e.a6,m=e.r,i=e.R,c=e.E,o=e.u,n=e.b,d=e.$,u=e.a0,b=e.a7,h=e.H,g=e.t,y=e.c,p=e.B,w=e.j,f=e.a2,N=e.d,x=e.g,v=e.a8,_=e.h,T=e.a9,q=e.aa,z=e.a,E=e.i,S=e.ab,j=e.I,k=e.T},e=>{D=e.L}],execute:function(){const l=i.memo((e=>{const{tag:l,isEdit:a}=e,s=c(),{t:i,reservationTableHandler:z}=o();m.exports.useState(0),console.log("============= tag",l);const{control:E,handleSubmit:S,formState:{isSubmitting:j,isDirty:k},watch:D,setValue:F}=n({mode:"onTouched",defaultValues:{id:l?.id??null,name:l?.name??"",type:l?.type??"",detail:l?.detail??"",order:l?.order??null,frequently_used:!!l?.frequently_used,display:l?.display??0,author:"タグ作成者",show:1===l?.display,hide:0===l?.display},resolver:d(u.object({}))});b((()=>{F("hide",!D("show"))}),[D("show")]),b((()=>{F("show",!D("hide"))}),[D("hide")]),console.log("============= watch()",D());const H=S((async e=>{e.display=e?.show?1:0,e.frequently_used=e?.frequently_used?1:0;const{hide:l,show:m,...c}=e;try{await r.save(c),s(h.tag.list),g(i(a?"common:message.edit_success":"common:message.create_success"))}catch(o){t(o?.message)}}));return y("form",{onSubmit:H,children:y(p,{className:"grid grid-flow-row-dense grid-cols-12 pb-20",children:w(p,{className:"col-span-12 sm:col-span-10 sm:col-start-2 pt-20",children:[y(f,{label:i("title.id"),control:E,name:"id",placeholder:"デフォルト入力",size:"small",classNameField:"bg-grey-300",className:"mb-16 sm:mb-20",readOnly:!0}),y(f,{label:i("title.name"),control:E,name:"name",placeholder:"デフォルト入力",size:"small",className:"mb-16 sm:mb-20",required:!0}),w(p,{className:"my-12 flex",children:[y(p,{className:"w-full sm:w-1/3 mt-12 text-primary mb-8 sm:mb-0",children:w(N,{variant:"h3",color:"primary",className:"flex items-center mb-4",children:[y(N,{className:"text-black py-4 px-16 rounded-4 bg-yellow mx-8",children:"必須"})," ",i("title.tag_type")]})}),y(p,{className:"w-full sm:w-2/3 border-grey-400 border-1 rounded-4",children:y(x,{control:E,name:"type",row:!0,options:[{value:"event",label:"イベント"},{value:"course",label:"コース"},{value:"spot",label:"スポット"}],className:"ml-20"})})]}),y(f,{label:i("title.description"),control:E,name:"detail",className:"mb-16 sm:mb-20",size:"small",minRows:5,multiline:!0}),y(f,{label:i("title.number_tag"),control:E,name:"order",placeholder:"デフォルト入力",className:"mb-16 sm:mb-20",size:"small",required:!0}),w(p,{className:"my-12 flex",children:[y(p,{className:"w-full sm:w-1/3 mt-12 text-primary mb-8 sm:mb-0",children:w(N,{variant:"h3",color:"primary",className:"flex items-center mb-4",children:[y(N,{className:"w-72"})," ",i("title.popular_tag")]})}),y(p,{className:"w-full sm:w-2/3 border-grey-400 border-1 rounded-4",children:y(v,{control:E,name:"frequently_used",row:!0,label:i("title.test"),className:"ml-20"})})]}),w(p,{className:"my-12 flex",children:[y(p,{className:"w-full sm:w-1/3 mt-12 text-primary mb-8 sm:mb-0",children:w(N,{variant:"h3",color:"primary",className:"flex items-center mb-4",children:[y(N,{className:"text-black py-4 px-16 rounded-4 w-60 bg-yellow mx-8",children:"必須"})," ",i("title.hide/show")]})}),w(p,{className:"w-full flex sm:w-2/3 border-grey-400 border-1 rounded-4",children:[y(v,{control:E,name:"show",row:!0,label:i("title.show"),className:"ml-20"}),y(v,{control:E,name:"hide",row:!0,label:i("title.hide"),className:"ml-20"})]})]}),y(f,{label:i("title.tag_creator"),control:E,name:"author",placeholder:"デフォルト入力",size:"small",classNameField:"bg-grey-300",className:"mb-16 sm:mb-20",readOnly:!0}),y(p,{className:"flex flex-wrap sm:flex-nowrap mb-16 sm:mb-20",children:w(p,{className:"w-full mt-12 mb-8 sm:mb-0 text-end",children:[y(_,{onClick:()=>s(h.tag.list),variant:"contained",className:"mr-10 h-32 text-13",color:"error",size:"small",children:"削除"}),y(T,{type:"submit",loading:j,disabled:!k,variant:"contained",color:"success",className:q("ml-[10px] h-32 text-13 text-white",k?"bg-blue":"bg-gray-500"),size:"small",children:"登録"})]})})]})})})}));e("default",i.memo((e=>{const{t:i}=z(k.tag),{isEdit:c,tag:o,loadingTag:n,id:d}=(e=>{const{id:l,type:i}=a(),c="new"!==l,o=s(r.getDetailTag,{manual:!0,onError:e=>{t("Get detail failed!!!")}}),{data:n,run:d,loading:u}=o;return m.exports.useEffect((()=>{c&&d(l,{id:l,type:i})}),[]),{isEdit:c,tag:n?.tag,loadingTag:u,id:l}})();return n?y(E,{className:"text-center mt-40",children:y(S,{})}):y(D,{t:i,children:y(j,{pageTitle:i("title.tag"),content:y(l,{tag:o,isEdit:c})})})})))}}}));
