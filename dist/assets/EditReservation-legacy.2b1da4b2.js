System.register(["./index-legacy.07e396c7.js","./ListReservationProvider-legacy.99b84c48.js"],(function(e,l){"use strict";var a,t,r,o,s,i,n,m,c,d,b,u,g,f,p,h,_,y,v,w,x,N,q,z,k,S,T;return{setters:[e=>{a=e.R,t=e.u,r=e.a5,o=e.E,s=e.ap,i=e.b,n=e.$,m=e.a0,c=e.S,d=e.H,b=e.t,u=e.v,g=e.c,f=e.B,p=e.j,h=e.a2,_=e.a4,y=e.d,v=e.g,w=e.ar,x=e.h,N=e.a9,q=e.aa,z=e.a,k=e.I,S=e.T},e=>{T=e.L}],execute:function(){const l=a.memo((e=>{const{t:l,reservationTableHandler:a,tags:z}=t(),{id:k}=r(),S="new"!==k,T=o(),j=s();console.log("============= location",j),l("edit.form.check_box.label.express"),l("edit.form.check_box.label.representation");const L=z?.tags?.reduce(((e,l)=>{const a={key:`${l?.id}`,value:l?.id,label:l?.name};return e.push(a),e}),[]),{control:E,formState:{isSubmitting:R,isDirty:H},handleSubmit:$}=i({mode:"onTouched",defaultValues:{id:j?.state?.id??"",type:j?.state?.type??1,name:j?.state?.name??"",detail:j?.state?.detail??"",address:j?.state?.address??"",tel:j?.state?.tel??"",url:j?.state?.url??"",google_map_url:j?.state?.google_map_url??"",location_info_latitude:j?.state?.location_info_latitude??"",location_info_longitude:j?.state?.location_info_longitude??"",image:"",tag:((e=[])=>{if(!e||e.length<=0)return{};var l={};return e.forEach((e=>{const a=j.state.tags.find((l=>l.name===e));a&&(l={...l,[a.id]:!0})})),l})(j?.state?.tag),facility:j?.state?.type??[]},resolver:n(m.object({name:m.string().required(),detail:m.string().required(),address:m.string().required(),location_info_latitude:m.string().required(),location_info_longitude:m.string().required()}))}),B=$((async e=>{try{const l=[],a=[];for(const r in e?.facility)e?.facility[r]&&l.push(+r);for(const r in e?.tag)e?.tag[r]&&a.push(+r);const t={...e,tag:a,facility:l,image:e?.image?.name,type:+e?.type};await c.save(t),T(d.spot.list),b(S?"Edit success":"Create success")}catch(l){u(l)}}),(e=>console.log("============= err",e)));return g("form",{onSubmit:B,sx:{padding:2},children:g(f,{className:"grid grid-flow-row-dense grid-cols-12 pb-20",children:p(f,{className:"col-span-12 sm:col-span-10 sm:col-start-2 pt-20",children:[g(h,{label:l("edit.form.label.id"),control:E,name:"id",placeholder:"デフォルト入力",size:"small",classNameField:"bg-grey-300",className:"mb-16 sm:mb-20",readOnly:!0}),g(h,{label:l("edit.form.label.name"),control:E,name:"name",placeholder:"デフォルト入力",className:"mb-16 sm:mb-20",size:"small",required:!0}),g(h,{label:l("edit.form.label.description"),control:E,name:"detail",placeholder:"デフォルト入力",className:"mb-16 sm:mb-20",size:"small",minRows:5,multiline:!0,required:!0}),g(_,{label:"スッポト画像",control:E,name:"image",size:"small",className:"w-full sm:w-2/3 mb-16 sm:mb-20",helperText:!0}),p(f,{className:"flex flex-wrap sm:flex-nowrap mb-16 sm:mb-20",children:[g(f,{className:"w-full sm:w-1/3 mt-12 mb-8 sm:mb-0",children:p(y,{variant:"h3",color:"primary",className:"flex items-center mb-4",children:[g(y,{className:"text-black py-4 px-16 rounded-4 bg-yellow mx-8",children:"必須"})," ",l("edit.form.label.type")]})}),g(f,{className:"border-grey-400 border-1 rounded-4 w-full sm:w-2/3 pl-[15px]",children:g(v,{className:"flex-row",control:E,name:"type",options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"}],row:!0})})]}),g(h,{label:l("edit.form.label.address"),control:E,name:"address",placeholder:"デフォルト入力",className:"mb-16 sm:mb-20",size:"small",required:!0}),g(h,{label:l("edit.form.label.phone_number"),control:E,name:"tel",placeholder:"デフォルト入力",className:"mb-16 sm:mb-20",size:"small"}),g(h,{label:l("edit.form.label.web_url"),control:E,name:"url",placeholder:"デフォルト入力",className:"mb-16 sm:mb-20",size:"small"}),g(h,{control:E,label:l("edit.form.label.location_info_latitude"),name:"location_info_latitude",placeholder:"デフォルト入力",className:"mb-16 sm:mb-20",size:"small",required:!0}),g(h,{control:E,label:l("edit.form.label.location_info_longitude"),name:"location_info_longitude",className:"mb-16 sm:mb-20",placeholder:"デフォルト入力",size:"small",required:!0}),g(h,{label:l("edit.form.label.google_map_url"),control:E,name:"google_map_url",placeholder:"デフォルト入力",className:"mb-16 sm:mb-20",size:"small"}),g(w,{control:E,name:"tag",options:L,legendLabel:l("edit.form.label.tag"),row:!0,required:!0}),g(w,{control:E,name:"facility",options:[{key:"1",label:"フォト"},{key:"2",label:"音楽再生"},{key:"3",label:"クイズ"},{key:"4",label:"特別ポイント"}],legendLabel:l("edit.form.label.special_action"),row:!0,required:!0}),p(f,{className:"flex flex-wrap sm:flex-nowrap mb-20",children:[g(x,{variant:"contained",color:"error",className:"ml-auto h-32",children:l("edit.form.btn.delete")}),g(N,{type:"submit",variant:"contained",color:"primary",loading:R,disabled:!H,className:q("ml-[10px] h-32 text-13 text-white",H?"bg-blue":"bg-gray-500"),children:l("edit.form.btn.register")})]})]})})})}));e("default",a.memo((e=>{const{t:a}=z(S.reservation);return g(T,{t:a,children:g(k,{pageTitle:a("title.spot"),content:g(l,{})})})})))}}}));
